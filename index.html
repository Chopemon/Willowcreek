<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Willow Creek 2025</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div id="container">
        <header>
            <h1>WILLOW CREEK 2025</h1>
            <div id="time-display">--:-- | Day 0</div>
        </header>
        <main>
            <div id="left-panel" class="panel">
                <div id="output"></div>
                <div id="input-area">
                    <input type="text" id="user-input" placeholder="What does Malcolm do...">
                    <button id="wait-btn">Wait 1h</button>
                    <button id="send-btn">Send</button>
                </div>
            </div>
            <div id="right-panel" class="panel">
                <!-- Mode Selection -->
                <div id="mode-selection-area" class="info-panel">
                    <label>Mode:</label>
                    <div class="mode-buttons">
                        <button id="native-btn">Native</button>
                        <button id="local-btn">LM Studio</button>
                        <button id="openrouter-btn">Cloud</button>
                    </div>
                    <button id="init-btn">Start Simulation</button>
                </div>

                <!-- Malcolm Stats -->
                <div id="malcolm-panel" class="info-panel">
                    <h3>MALCOLM NEWT</h3>
                    <div id="location-display" class="stat-row">
                        <span class="label">Location:</span>
                        <span id="malcolm-location">---</span>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Hunger</span>
                            <div class="progress-bar"><div id="bar-hunger" class="progress" style="width:50%"></div></div>
                            <span id="val-hunger" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Energy</span>
                            <div class="progress-bar"><div id="bar-energy" class="progress energy" style="width:50%"></div></div>
                            <span id="val-energy" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Hygiene</span>
                            <div class="progress-bar"><div id="bar-hygiene" class="progress hygiene" style="width:50%"></div></div>
                            <span id="val-hygiene" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Arousal</span>
                            <div class="progress-bar"><div id="bar-horny" class="progress horny" style="width:50%"></div></div>
                            <span id="val-horny" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Social</span>
                            <div class="progress-bar"><div id="bar-social" class="progress social" style="width:50%"></div></div>
                            <span id="val-social" class="stat-value">50</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Lonely</span>
                            <div class="progress-bar"><div id="bar-lonely" class="progress lonely" style="width:50%"></div></div>
                            <span id="val-lonely" class="stat-value">50</span>
                        </div>
                    </div>
                    <div id="mood-display" class="mood-box">
                        Mood: <span id="malcolm-mood">---</span>
                    </div>
                </div>

                <!-- NPCs Here -->
                <div id="npcs-panel" class="info-panel">
                    <h3>PEOPLE HERE</h3>
                    <div id="npcs-list">No one nearby</div>
                </div>

                <!-- Recent Events -->
                <div id="events-panel" class="info-panel">
                    <h3>RECENT EVENTS</h3>
                    <div id="events-list">---</div>
                </div>

                <!-- ComfyUI Image Generation -->
                <div id="comfyui-panel" class="info-panel">
                    <h3>IMAGE GENERATION</h3>
                    <div id="comfyui-status" class="comfy-status offline">ComfyUI: Checking...</div>
                    <div class="comfy-controls">
                        <select id="workflow-select">
                            <option value="">-- Select Workflow --</option>
                        </select>
                        <button id="refresh-workflows-btn" title="Refresh">â†»</button>
                    </div>
                    <div class="comfy-controls">
                        <input type="text" id="image-prompt" placeholder="Image prompt...">
                        <button id="generate-btn">Generate</button>
                    </div>
                    <div id="image-container">
                        <img id="generated-image" src="" alt="Generated image" style="display:none;">
                        <div id="image-placeholder">No image generated</div>
                    </div>
                    <div class="comfy-controls">
                        <input type="file" id="workflow-upload" accept=".json" style="display:none;">
                        <button id="upload-workflow-btn">Upload Workflow</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="/static/script.js"></script>
</body>
</html>
